<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <title>Document</title>
    <style>
        .menukort {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: repeat(9, 500px);
            grid-gap: 20px;
        }
        
        .food {
            border: 1px solid #666;
            padding: 10px;
            max-width: 30vw;
            background: #f7e2a9;
        }
        
        .food:nth-child(2n) {
            background: #f79a2e;
        }
        
        .billede {
            max-width: 30vw;
        }
        /*
        @media screen and (max-width: 768px) {
            .menukort {
                max-width: 100%;
                grid-template-columns: 1fr;
            }
        }
*/

    </style>

</head>

<body>

    <nav>
        <button id="filter-alle">Alle</button>
        <button id="filter-forretter">Forretter</button>
        <button id="filter-hovedretter">Hovedretter</button>
        <button id="filter-desserter">Desserter</button>
        <button id="filter-drikkevarer">Drikkevarer</button>
    </nav>

    <main>
        <h1 id="overskrift" data-overskrift>Menu</h1>
        <section id="menu-container" data-container></section>
    </main>

    <div class="menukort"></div>


    <footer>

    </footer>

    <template class="menutemplate">
        <article class="food">
        <img class="billede" src="" alt="">
    <h1 class="navn"></h1>
    <div class="kortbeskrivelse"></div>
    <p class="pris"></p>
    </article>

        </template>

    <script>
        let menukort;

        document.addEventListener("DOMContentLoaded", loadJson);
        let modtager = document.querySelector(".menukort");
        let template = document.querySelector(".menutemplate");

        async function loadJson() {
            let minListe = await fetch("menu.json");
            menukort = await minListe.json();
            console.log(menukort);
            // find og filtrer retter i menukort efter kategori og gem dem i et nyt array

            vis(menukort, "Menu");

        }

        function vis(menukort) {

            let modtager = document.querySelector(".menukort");
            let template = document.querySelector(".menutemplate");
            modtager.innerHTML = "";

            //for hver madret vis dem i DOM
            menukort.forEach(hvermadret => {
                //klon template og inds√¶t hvermadret properties
                let klon = template.cloneNode(true).content;
                klon.querySelector(".navn").textContent = hvermadret.navn;
                klon.querySelector(".pris").textContent = "Pris: " +
                    hvermadret.pris + " kr";
                klon.querySelector(".kortbeskrivelse").textContent = hvermadret.kortbeskrivelse;
                klon.querySelector(".billede").setAttribute("src", "imgs/medium/" + hvermadret.billede + "-md.jpg");


                modtager.appendChild(klon);
            })

        }

    </script>
</body>

</html>
